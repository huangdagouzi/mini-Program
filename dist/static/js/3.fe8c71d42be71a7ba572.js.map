{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///src/pages/CustomerInfo.vue","webpack:///./src/pages/CustomerInfo.vue?2ebc","webpack:///./src/pages/CustomerInfo.vue"],"names":["classof","__webpack_require__","ITERATOR","Iterators","module","exports","getIteratorMethod","it","undefined","default","__esModule","cof","TAG","ARG","arguments","O","T","B","key","e","tryGet","Object","callee","anObject","get","getIterator","iterFn","TypeError","call","CustomerInfo","data","pageType","searchForm","option","inputText","currentCustomer","searchParam","currentPage","pageSize","totalPage","dialogFormVisible","tableData","warehouseList","timeout","state","mounted","this","searchInfo","methods","getOption","value","orderField","orderType","_this","axios","ajax_config","params","pageNum","search","then","res","resCode","resData","page","total","$message","error","resMsg","catch","err","console","log","clearSearchInfo","openDialog","row","type","_this2","customerNo","handleSizeChange","val","handleCurrentChange","priceFormatter","column","tofixed","amount","goodsPrice","originalPrice","querySearchAsync","queryString","cb","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","i","wwNo","return","results","filter","createStateFilter","clearTimeout","setTimeout","Math","random","toLowerCase","indexOf","handleSelect","item","_this3","loadWarehouseId","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","searchWarehouse","_this4","sortChange","order","prop","number","common","toFixed","components","vSearch","Search","pages_CustomerInfo","render","_vm","_h","$createElement","_c","_self","attrs","on","_v","staticStyle","width","max-height","sort-change","label","sortable","scopedSlots","_u","fn","scope","size","nativeOn","click","$event","preventDefault","_s","totalLoan","totalCurrentPrice","staticClass","current-page","page-size","layout","size-change","current-change","update:currentPage","title","visible","update:visible","float","fetch-suggestions","placeholder","select","model","callback","$$v","expression","margin-top","formatter","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.fe8c71d42be71a7ba572.js","sourcesContent":["var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 3fs2\n// module chunks = 1 3","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 1 3","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = RY/4\n// module chunks = 1 3","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 1 3","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 1 3","<template>\r\n  <div>\r\n    <vSearch @getOption=\"getOption\" @searchInfo=\"searchInfo\" @clearSearchInfo=\"clearSearchInfo\" :pageType=\"pageType\"></vSearch>\r\n    <el-table\r\n      :data=\"tableData\"\r\n      style=\"width: 100%\"\r\n      max-height=\"675\"\r\n      @sort-change=\"sortChange\"\r\n      >\r\n      <el-table-column\r\n        prop=\"customerName\"\r\n        label=\"客户名称\"\r\n        sortable>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"customerNo\"\r\n        label=\"客户号\"\r\n        sortable>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"被买断仓单\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            @click.native.prevent=\"openDialog(scope.row, 'warehouse')\"\r\n            type=\"text\"\r\n            size=\"small\">\r\n            查看\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"totalLoan\"\r\n        label=\"总放款金额（人民币）\"\r\n        sortable>\r\n        <template slot-scope=\"scope\">\r\n          {{tofixed(scope.row.totalLoan)}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"originalPrice\"\r\n        label=\"原仓单总价值（人民币）\"\r\n        sortable>\r\n        <template slot-scope=\"scope\">\r\n          {{tofixed(scope.row.originalPrice)}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"totalCurrentPrice\"\r\n        label=\"现仓单总价值（人民币）\"\r\n        sortable>\r\n        <template slot-scope=\"scope\">\r\n          {{tofixed(scope.row.totalCurrentPrice)}}\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"prev, pager, next, jumper\"\r\n        :total=\"totalPage\">\r\n      </el-pagination>\r\n    </div>\r\n    <el-dialog title=\"被买断仓单\" :visible.sync=\"dialogFormVisible\" style=\"width:1500px\">\r\n      <div style=\"float:left\">仓单编号：</div>\r\n      <el-autocomplete\r\n        class=\"selectSearch\"\r\n        v-model=\"state\"\r\n        :fetch-suggestions=\"querySearchAsync\"\r\n        placeholder=\"请输入内容\"\r\n        @select=\"handleSelect\">\r\n      </el-autocomplete>\r\n      <el-button type=\"primary\" @click=\"searchWarehouse\" style=\"margin-top: -5px;\">搜索</el-button>\r\n      <el-table\r\n      :data=\"warehouseList\"\r\n      style=\"width: 100%\"\r\n      max-height=\"675\"\r\n      >\r\n        <el-table-column\r\n          prop=\"wwNo\"\r\n          label=\"仓单编号\"\r\n          sortable\r\n          width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"仓单现价/原价（人民币）\"\r\n          :formatter=\"priceFormatter\"\r\n          sortable\r\n          width=\"300\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"contractNo\"\r\n          label=\"合同编号\"\r\n          sortable\r\n          width=\"180\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vSearch from '../components/Search.vue';\r\nimport * as ajaxUrl from '../ajax.config.js';// 引入接口地址\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageType: 3,\r\n      searchForm: {\r\n        option: '',\r\n        inputText: '',\r\n      },\r\n      currentCustomer: '',\r\n      searchParam:{},\r\n      currentPage: 1,\r\n      pageSize: 0,\r\n      totalPage: 0,\r\n\r\n      dialogFormVisible: false,\r\n\r\n      tableData: [],\r\n      warehouseList: [],\r\n      timeout: null,\r\n      state: \"\",\r\n    }\r\n  },\r\n  mounted(){\r\n    this.searchInfo();\r\n  },\r\n  methods: {\r\n    getOption(value, inputText){\r\n      this.searchForm.option = value;\r\n      this.searchForm.inputText = inputText;\r\n    },\r\n    searchInfo(orderField, orderType){\r\n      this.searchParam[this.searchForm.option] = this.searchForm.inputText; \r\n      this.axios.get(ajaxUrl.GETCUSTOMERDATALIST, {\r\n        params: {\r\n          pageSize: this.pageSize,\r\n          pageNum: this.currentPage,\r\n          search: this.searchParam,\r\n          orderField: orderField,\r\n          orderType: orderType\r\n        }\r\n      }).then(res => {\r\n        if(res.data.resCode == 200){\r\n          this.tableData = res.data.resData;\r\n          this.totalPage = res.data.page.total;\r\n          this.pageSize = res.data.page.pageSize;\r\n          this.searchParam = {};\r\n        }else{\r\n          this.$message.error(res.data.resMsg)\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    clearSearchInfo(){\r\n      this.searchForm.option = '';\r\n      this.searchForm.inputText = '';\r\n    },\r\n    openDialog(row, type){\r\n      this.dialogFormVisible = true;\r\n      this.axios.get(ajaxUrl.GETCUSTOMERDATAWAREHOUSE, {\r\n        params: {\r\n          customerNo: row.customerNo\r\n        }\r\n      }).then(res => {\r\n        if(res.data.resCode == 200){\r\n          this.warehouseList = res.data.resData;\r\n          this.currentCustomer = row.customerNo;\r\n        }else{\r\n          this.$message.error(res.data.resMsg)\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.searchInfo();\r\n    },\r\n    priceFormatter(row, column){\r\n      return this.tofixed(row.amount * row.goodsPrice) + \" / \" + this.tofixed(row.originalPrice)\r\n    },\r\n        //远程搜索 下拉搜索功能\r\n    querySearchAsync(queryString, cb) {\r\n      let warehouseList = this.warehouseList;\r\n      for (let i of warehouseList) {\r\n        i.value = i.wwNo; //将想要展示的数据作为value\r\n      }\r\n      let results = queryString\r\n        ? warehouseList.filter(this.createStateFilter(queryString))\r\n        : warehouseList;\r\n\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(() => {\r\n        cb(results);\r\n      }, 300 * Math.random());\r\n    },\r\n    createStateFilter(queryString) {\r\n      return state => {\r\n        return (\r\n          state.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0\r\n        );\r\n      };\r\n    },\r\n    handleSelect(item) {\r\n      this.axios.get(ajaxUrl.GETCUSTOMERDATAWAREHOUSE, {\r\n        params: {\r\n          wwNo: this.state,\r\n          customerNo: this.currentCustomer\r\n        }\r\n      }).then(res => {\r\n        if(res.data.resCode == 200){\r\n          this.warehouseList = res.data.resData;\r\n        }else{\r\n          this.$message.error(res.data.resMsg)\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n      // this.warehouseList = item;\r\n    },\r\n    loadWarehouseId() {\r\n      for (let i of this.warehouseList) {\r\n        i.value = i.wwNo; //将想要展示的数据作为value\r\n      }\r\n    },\r\n    searchWarehouse(){\r\n      this.axios.get(ajaxUrl.GETCUSTOMERDATAWAREHOUSE, {\r\n        params: {\r\n          wwNo: this.state,\r\n          customerNo: this.currentCustomer\r\n        }\r\n      }).then(res => {\r\n        if(res.data.resCode == 200){\r\n          this.warehouseList = res.data.resData;\r\n        }else{\r\n          this.$message.error(res.data.resMsg)\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    },\r\n    //排序\r\n    sortChange(params) {\r\n      if(params.order == 'ascending'){\r\n        this.searchInfo(params.prop, 'asc')\r\n      }else if(params.order == 'descending'){\r\n        this.searchInfo(params.prop, 'desc')\r\n      }else{\r\n        this.searchInfo()\r\n      }\r\n    },\r\n    //\r\n    tofixed(number) {\r\n      return this.common.toFixed(number);\r\n    }\r\n  },\r\n  components: {\r\n    vSearch\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.pagination {\r\n  text-align: center;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/CustomerInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vSearch',{attrs:{\"pageType\":_vm.pageType},on:{\"getOption\":_vm.getOption,\"searchInfo\":_vm.searchInfo,\"clearSearchInfo\":_vm.clearSearchInfo}}),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"max-height\":\"675\"},on:{\"sort-change\":_vm.sortChange}},[_c('el-table-column',{attrs:{\"prop\":\"customerName\",\"label\":\"客户名称\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"customerNo\",\"label\":\"客户号\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"被买断仓单\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.openDialog(scope.row, 'warehouse')}}},[_vm._v(\"\\n          查看\\n        \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalLoan\",\"label\":\"总放款金额（人民币）\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.tofixed(scope.row.totalLoan))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"originalPrice\",\"label\":\"原仓单总价值（人民币）\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.tofixed(scope.row.originalPrice))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalCurrentPrice\",\"label\":\"现仓单总价值（人民币）\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.tofixed(scope.row.totalCurrentPrice))+\"\\n      \")]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.totalPage},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{staticStyle:{\"width\":\"1500px\"},attrs:{\"title\":\"被买断仓单\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"仓单编号：\")]),_vm._v(\" \"),_c('el-autocomplete',{staticClass:\"selectSearch\",attrs:{\"fetch-suggestions\":_vm.querySearchAsync,\"placeholder\":\"请输入内容\"},on:{\"select\":_vm.handleSelect},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchWarehouse}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.warehouseList,\"max-height\":\"675\"}},[_c('el-table-column',{attrs:{\"prop\":\"wwNo\",\"label\":\"仓单编号\",\"sortable\":\"\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"仓单现价/原价（人民币）\",\"formatter\":_vm.priceFormatter,\"sortable\":\"\",\"width\":\"300\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"contractNo\",\"label\":\"合同编号\",\"sortable\":\"\",\"width\":\"180\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f7fb652\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/CustomerInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f7fb652\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CustomerInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f7fb652\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CustomerInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/CustomerInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}